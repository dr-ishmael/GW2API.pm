=pod

=head1 NAME

GuildWars2::Color - A function library for performing Guild Wars 2 color
transformations as presented in the GW2 API.

=head1 SYNOPSIS

 use GuildWars2::API;
 use GuildWars2::Color qw/ colorShiftMatrix compositeColorShiftRgb rgb2hex /;

 $api = GuildWars2::API->new;

 %colors = $api->colors;

 $black = $colors{2};

 # Build the transformation matrix for the 'cloth' material

 @cloth_matrix   = colorShiftMatrix($black->{cloth});

 # Apply this transformation matrix to the color's base RGB values

 @cloth_calc = compositeColorShiftRgb($black->{base_rgb},\@cloth_matrix);

 # Convert to RGB hex code

 $cloth_hex = rgb2hex(@cloth_calc);


=head1 DESCRIPTION

GuildWars2::Color provides a set of functions for using the color transformation
data returned by the colors.json API. A transformation is defined for each
color, on each of three materials: cloth, leather, and metal.

At a high level, the transformation involves the following steps:

=item * Each color has a base RGB color that serves as the starting point for the
transformation. (When applying the color to a game texture, e.g. when generating
a guild emblem, the RGB color of the individual pixels is used as the base
color.)

=item * Brightness and contrast shifts are applied in the RGB colorspace.

=item * The color is converted to the HSL colorspace in order to apply hue,
saturation, and lightness shifts.

=item * The final color is converted back to RGB.


=head1 Functions

=over

=item colorShiftMatrix( $material )

Computes the transformation matrix for the given material object and returns it
as an array.

=item compositeColorShiftRgb( \@base_rgb, \@transform_matrix )

Applies the transformation matrix to the base RGB color and returns the
transformed color as an array.

=back

=head1 Author

Tony Tauer, E<lt>dr.ishmael[at]gmail.comE<gt>

=head1 COPYRIGHT AND LICENSE

Copyright 2013 by Tony Tauer

This library is free software; you can redistribute it and/or modify it under
the same terms as Perl itself.

=cut

__END__
